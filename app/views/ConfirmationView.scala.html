@*
 * Copyright 2019 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import controllers.routes._
@import models.FullName
@import utils.AccessibilityHelper._

@this(
    main_template: MainTemplate
)

@(draftId : String, isExistingTrust: Boolean, isAgent: Boolean, refNumber: String, postHMRC: String, agentOverviewUrl: String, leadTrusteeName : FullName)(implicit request: Request[_], messages: Messages)

@main_template(
    title = s"${messages("confirmationPage.title", formatTRN(refNumber))}"
    ) {

    <div class="govuk-main-wrapper--l">
        <h1 class="form-title heading-large heading-confirmation ">
            @messages("confirmationPage.heading1")
            <span class="reference-text">@messages("confirmationPage.heading2")</span>
            <span id="trusts-registration-number" class="reference-number">
                <span aria-hidden=true>@refNumber</span>
                <span class="visually-hidden">@formatTRN(refNumber)</span>
            </span>
        </h1>
    </div>

<p class="panel-indent">@components.link(ConfirmationAnswerPageController.onPageLoad(draftId).url, "print-and-save","confirmationPage.printsave.link", openInNewWindow = true)</p>

    @if(!isExistingTrust) {

        <h2>@messages("confirmationPage.subheading1")</h2>

        <p>@messages("confirmationPage.new.paragraph1", leadTrusteeName.toString)</p>

        <h2>@messages("confirmationPage.subheading2")</h2>

        <p>@messages("confirmationPage.new.paragraph2") @components.link(postHMRC, "contact-hmrc-for-utr", "confirmationPage.contacthmrc.link", true).</p>

        <p>@messages("confirmationPage.paragraph3") @components.link(postHMRC, "post-to-hmrc-contact", "confirmationPage.posthmrc.link", true). @messages("confirmationPage.paragraph4")</p>

    } else {

        <h2>@messages("confirmationPage.subheading1")</h2>

        <p>@messages("confirmationPage.existing.paragraph1", leadTrusteeName.toString)</p>

        <h2>@messages("confirmationPage.subheading2")</h2>

        <p>@messages("confirmationPage.existing.paragraph2")</p>

        <p>@messages("confirmationPage.paragraph3") @components.link(postHMRC, "post-to-hmrc-contact", "confirmationPage.posthmrc.link", true) @messages("confirmationPage.paragraph4")</p>
    }

    @if(isAgent) {
        @messages("confirmationPage.agent.you.can") @components.link(agentOverviewUrl, "agent-overview", "confirmationPage.agent.link", false).)
    }

}
